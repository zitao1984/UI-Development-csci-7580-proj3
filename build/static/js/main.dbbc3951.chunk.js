(this.webpackJsonpzitao_shen_assignment3=this.webpackJsonpzitao_shen_assignment3||[]).push([[0],{18:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),i=n(11),s=n.n(i),r=(n(17),n(18),n(7)),o=n(3),l=n(10),d=n.n(l),j=n(12),u=[{id:9,name:"General Knowledge"},{id:10,name:"Entertainment: Books"},{id:11,name:"Entertainment: Film"},{id:12,name:"Entertainment: Music"},{id:13,name:"Entertainment: Musicals & Theatres"},{id:14,name:"Entertainment: Television"},{id:15,name:"Entertainment: Video Games"},{id:16,name:"Entertainment: Board Games"},{id:17,name:"Science & Nature"},{id:18,name:"Science: Computers"},{id:19,name:"Science: Mathematics"},{id:20,name:"Mythology"},{id:21,name:"Sports"},{id:22,name:"Geography"},{id:23,name:"History"},{id:24,name:"Politics"},{id:25,name:"Art"},{id:26,name:"Celebrities"},{id:27,name:"Animals"},{id:28,name:"Vehicles"},{id:29,name:"Entertainment: Comics"},{id:30,name:"Science: Gadgets"},{id:31,name:"Entertainment: Japanese Anime & Manga"},{id:32,name:"Entertainment: Cartoon & Animations"}],m=["any","easy","medium","hard"],b=n(0),h=function(e){return Object(b.jsxs)("form",{children:[Object(b.jsxs)("div",{className:"row my-4",children:[Object(b.jsx)("label",{className:"col-sm-5 col-md-3 col-form-label my-label",htmlFor:"category",children:"Category "}),Object(b.jsx)("div",{className:"col-sm-7 col-md-9",children:Object(b.jsxs)("select",{className:"form-select",id:"category",value:e.category,onChange:function(t){return e.updateParams({category:t.target.value,amount:e.amount,difficulty:e.difficulty})},children:[Object(b.jsx)("option",{value:"any",children:"any"}),u.map((function(e,t){return Object(b.jsx)("option",{value:e.id,children:e.name})}))]})})]}),Object(b.jsxs)("div",{className:"row my-4",children:[Object(b.jsx)("label",{className:"col-sm-5 col-md-3  col-form-label my-label ",htmlFor:"difficulty",children:Object(b.jsx)("small",{children:"Difficulty"})}),Object(b.jsx)("div",{className:"col-sm-7 col-md-9",children:Object(b.jsx)("select",{className:"form-select",id:"difficulty",value:e.difficulty,onChange:function(t){return e.updateParams({category:e.category,amount:e.amount,difficulty:t.target.value})},children:m.map((function(e,t){return Object(b.jsx)("option",{value:e,children:e})}))})})]}),Object(b.jsxs)("div",{className:"row my-4",children:[Object(b.jsx)("label",{className:"col-sm-5 col-md-3 my-label col-form-label",htmlFor:"numbers",children:Object(b.jsx)("small",{children:"Number of Questions "})}),Object(b.jsx)("div",{className:"col-sm-7 col-md-9",children:Object(b.jsx)("input",{type:"number",id:"numbers",min:"1",max:"50",step:"0",value:e.amount,onChange:function(t){return e.updateParams({category:e.category,amount:t.target.value,difficulty:e.difficulty})}})})]})]})},O=function(){return Object(b.jsxs)("div",{className:"loading",children:[Object(b.jsx)("div",{className:"spinner-border spinner-border-xl text-info",role:"status"}),Object(b.jsx)("p",{children:"Searching... please hold"})]})},x=function(e){var t=Object(c.useState)({choice:""}),n=Object(o.a)(t,2),a=n[0],i=n[1],s=function(){return""!==a.choice};return Object(b.jsxs)("div",{children:[e.triviaChoice.map((function(e,t){return Object(b.jsxs)("div",{className:"row my-2 ",children:[Object(b.jsx)("input",{type:"radio",className:"btn-check",name:"options-outlined",id:e,checked:a.choice===e,onChange:function(e){i({choice:e.target.id})}}),Object(b.jsx)("label",{className:"btn btn-outline-success",htmlFor:e,children:(n=e,(new DOMParser).parseFromString(n,"text/html").body.innerText)})]});var n})),Object(b.jsx)("div",{className:"row my-2",children:Object(b.jsx)("div",{className:"col text-end",children:Object(b.jsx)("button",{className:"btn btn-primary",type:"submit",disabled:!s(),onClick:function(){return e.view(),e.agreeCheck(a.choice),void i({choice:""})},color:s?"primary":"secondary",children:"Submit"})})})]})},f=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],i=n[1],s=Object(c.useState)(""),r=Object(o.a)(s,2),l=r[0],d=r[1],j=function(e){return(new DOMParser).parseFromString(e,"text/html").body.innerText},u=JSON.parse(JSON.stringify(e.trivia.incorrect_answers)),m=e.trivia.correct_answer;return u.push(m),u=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),c=e[t];e[t]=e[n],e[n]=c}return e}(u),Object(b.jsxs)("div",{className:"card border-success mb-3 border-2 rounded-2",children:[Object(b.jsxs)("div",{className:"card-header ",children:[Object(b.jsxs)("h4",{children:["Difficulty: ",Object(b.jsx)("span",{className:"text",children:e.trivia.difficulty})]}),Object(b.jsxs)("h4",{children:["Category: ",Object(b.jsx)("span",{className:"text",children:e.trivia.category})]})]}),Object(b.jsxs)("div",{className:"card-body text-dark",children:[Object(b.jsx)("h3",{className:"card-title myTitle",children:j(e.trivia.question)}),e.answerView?Object(b.jsxs)("div",{children:[a?Object(b.jsx)("h4",{className:"card-text text-success response",children:"Congratulation, you are correct!"}):Object(b.jsxs)("div",{children:[Object(b.jsxs)("h4",{className:"card-text text-danger response",children:["The choice: ",l," is incorrect"]}),Object(b.jsxs)("h4",{className:"card-text text-success response",children:["The correct choice is : ",j(m)]})]}),Object(b.jsx)("div",{className:"row my-2",children:Object(b.jsx)("div",{className:"col text-end",children:Object(b.jsx)("button",{className:"btn btn-primary",type:"submit",onClick:function(){return e.triviaNext()},children:"Next"})})})]}):Object(b.jsx)(x,{triviaChoice:u,answer:m,view:function(){return e.viewChange()},agreeCheck:function(t){return function(t){t===e.trivia.correct_answer?(i(!0),e.agreeListUpdate()):(i(!1),d(t))}(t)}})]})]})},v=n(4),p=n(5),y=function(e){var t=Object(c.useState)(0),n=Object(o.a)(t,2),a=n[0],i=n[1],s=Object(c.useState)(!1),r=Object(o.a)(s,2),l=r[0],d=r[1],j=Object(c.useState)(0),u=Object(o.a)(j,2),m=u[0],h=u[1],O=function(){e.setStatus()};return 0===e.response_code&&a<e.results.length?Object(b.jsxs)("div",{className:"triviaCard",children:[Object(b.jsxs)("h2",{children:["#",a+1]}),Object(b.jsx)(f,{trivia:e.results[a],triviaNext:function(){a<e.results.length&&(d(!1),i(a+1))},answerView:l,viewChange:function(){d(!0)},agreeListUpdate:function(){h(m+1)}})]}):1===e.response_code?Object(b.jsxs)("div",{className:"triviaCard",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"iconDefine",children:Object(b.jsx)(v.a,{icon:p.e})}),Object(b.jsx)("p",{children:"Sorry, we don't have enough questions that match your criteria. Please change the category, difficulty or decrease the number of questions and try again."})]}),Object(b.jsx)("div",{className:"d-grid gap-2",children:Object(b.jsx)("button",{type:"button",className:"btn btn-primary mt-4",onClick:function(){return O()},children:"Wanna try it again"})})]}):Object(b.jsxs)("div",{className:"triviaCard",children:[Object(b.jsx)("h2",{children:"Your results"}),Object(b.jsxs)("div",{id:"resultSentence",children:[Object(b.jsxs)("p",{children:["Your final score is ",m," out of ",e.results.length]}),m<e.results.length/2?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"iconDefine",children:Object(b.jsx)(v.a,{icon:p.b})}),Object(b.jsx)("p",{children:"Don't be frustrated, you can do it!"})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"iconDefine",children:Object(b.jsx)(v.a,{icon:p.c})}),Object(b.jsx)("p",{children:"Awesome job!"})]})]}),Object(b.jsx)("div",{className:"d-grid gap-2",children:Object(b.jsx)("button",{type:"button",className:"btn btn-primary mt-4",onClick:function(){return O()},children:"Wanna try it again"})})]})},g="loading",N="success",w="fail",C=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://opentdb.com/api.php",n="https://opentdb.com/api.php"+S(t),e.next=4,fetch(n);case 4:return c=e.sent,e.next=7,c.json();case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e){var t=[];for(var n in e)"any"!==e[n]&&t.push(n+"="+e[n]);return 0===t.length?"":"?"+t.join("&")},k=function(){var e=Object(c.useState)(g),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)({category:"any",amount:"2",difficulty:"any"}),s=Object(o.a)(i,2),l=s[0],d=s[1],j=Object(c.useState)(null),u=Object(o.a)(j,2),m=u[0],x=u[1],f=Object(c.useState)(!0),S=Object(o.a)(f,2),k=S[0],F=S[1];return Object(c.useEffect)((function(){n===g&&C(l).then((function(e){a(N),x(e)})).catch((function(e){a(w),console.log(e)}))}),[n,l]),console.log(m),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"title",children:Object(b.jsxs)("h1",{children:["Zitao's Trivia App ",Object(b.jsx)(v.a,{icon:p.d})]})}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("h2",{className:"subTitle",children:[Object(b.jsx)(v.a,{icon:p.a}),"Questions will be ..."]}),Object(b.jsx)(h,Object(r.a)(Object(r.a)({},l),{},{updateParams:d}))]}),k?Object(b.jsx)("div",{className:"d-grid gap-2",children:Object(b.jsx)("button",{type:"button",className:"btn btn-primary mt-4",onClick:function(){return a(g),void F(!1)},children:"Let's start"})}):n===g?Object(b.jsx)(O,{}):Object(b.jsx)(b.Fragment,{children:n===N?Object(b.jsx)(y,Object(r.a)(Object(r.a)({},m),{},{triviaNumber:l.amount,setStatus:function(){return a(g)}})):Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"iconDefine",children:Object(b.jsx)(v.a,{icon:p.f})}),Object(b.jsx)("p",{children:"Something went wrong. Check your Wi-Fi connection, please try again."})]})})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(k,{})}),document.getElementById("root")),F()}},[[26,1,2]]]);
//# sourceMappingURL=main.dbbc3951.chunk.js.map